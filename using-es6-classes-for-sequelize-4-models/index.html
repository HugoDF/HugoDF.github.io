<!DOCTYPE html>
<html lang="en-US" />
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="google-site-verification" content="gBfbdXRLofaOyHsbgiSiuCIHKPaviGMRVWh_qOfDHNE" />

    <title>Using ES6 classes for Sequelize 4 models &middot; Code with Hugo</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#090a0b">

    <link rel="shortcut icon" href="https://codewithhugo.com/favicon.ico" />
    <meta name="theme-color" content="#090a0b">
    
    <link rel="canonical" href="https://codewithhugo.com/using-es6-classes-for-sequelize-4-models/" /> 

     <meta name="description" content="&lt;p&gt;The ES2015 or ES6 specification introduced &lt;code&gt;class&lt;/code&gt; to JavaScript.
Libraries like React went from &lt;code&gt;React.createClass&lt;/code&gt; to &lt;code&gt;class MyC" /> 

     
    
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://codewithhugo.com/img/eugene-lim-unsplash.jpg"/>
    
 
    <meta name="twitter:title" content="Using ES6 classes for Sequelize 4 models"/>
    <meta name="twitter:description" content="&lt;p&gt;The ES2015 or ES6 specification introduced &lt;code&gt;class&lt;/code&gt; to JavaScript.
Libraries like React went from &lt;code&gt;React.createClass&lt;/code&gt; to &lt;code&gt;class MyC"/>
    <meta name="twitter:url" content="https://codewithhugo.com/using-es6-classes-for-sequelize-4-models/" />
    <meta name="twitter:site" content="@hugo__df"/>

    <meta property="og:site_name" content="Code with Hugo" />
    <meta property="og:title" content="Using ES6 classes for Sequelize 4 models &middot; Code with Hugo" />
    <meta property="og:url" content="https://codewithhugo.com/using-es6-classes-for-sequelize-4-models/" />
    

    <meta property="og:type" content="article" />
    <meta property="og:description" content="&lt;p&gt;The ES2015 or ES6 specification introduced &lt;code&gt;class&lt;/code&gt; to JavaScript.
Libraries like React went from &lt;code&gt;React.createClass&lt;/code&gt; to &lt;code&gt;class MyC" />

    <meta property="article:published_time" content="2018-05-09T00:00:00Z" />
    <meta property="article:tag" content="Node" /><meta property="article:tag" content="JavaScript" /><meta property="article:tag" content="Sequelize" /><meta property="article:tag" content="productivity" />

    <meta property="og:image" content="https://codewithhugo.com/img/eugene-lim-unsplash.jpg"/>


    <meta name="generator" content="Hugo 0.46" />

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="https://codewithhugo.com/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://codewithhugo.com/css/casper-two.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" />
    
      
      <link rel="stylesheet" href="https://codewithhugo.com/overrides.min.b03e9c043a50092b43f3ef9ab0b468b08690a8f8f1b270a7b31ff5ab68a94763.css">
    
      
      <link rel="stylesheet" href="https://codewithhugo.com/syntax.min.e1646a3f88f77e1b5e7d0253633b1958013aa132890dfe4d7e15dc4718d4aecc.css">
    
      
      <link rel="stylesheet" href="https://codewithhugo.com/cta.min.e78c0bb9686c3a53ce9ba4c0d5c59abfa16cc34c2a616a001f7e4b473644374c.css">
    

    

     
</head>


<body class="post-template">
  <div class="site-wrapper"> 

<header class="site-header outer">
  <div class="inner">
    <nav class="site-nav">
      <div class="site-nav-left">

        <ul class="nav" role="menu">
        
        
        
            <li class="" role="menuitem">
              <a href="/">Home</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/guides/">guides</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/javascript/">JavaScript</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/node/">Node</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/testing/">Testing</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/deployment/">Deployment</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/">More...</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="https://checkoutpage.co/checkout/hugo/consulting-fee">Contact</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/open/">#open</a>
            </li>
        
      </ul></div>

      <div class="site-nav-right">
        <div class="social-links">
                    

                    <a class="social-link social-link-tw" href="https://twitter.com/hugo__df" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg></a>

                    <a class="social-link" href="https://github.com/HugoDF" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>

                    

                    <a class="social-link" href="https://medium.com/@hugo__df" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 195 195"><path d="M46.5340803,65.2157554 C46.6968378,63.6076572 46.0836,62.018231 44.8828198,60.93592 L32.6512605,46.2010582 L32.6512605,44 L70.6302521,44 L99.9859944,108.380952 L125.794585,44 L162,44 L162,46.2010582 L151.542017,56.2281011 C150.640424,56.9153477 150.193188,58.0448862 150.380019,59.1628454 L150.380019,132.837155 C150.193188,133.955114 150.640424,135.084652 151.542017,135.771899 L161.755369,145.798942 L161.755369,148 L110.38282,148 L110.38282,145.798942 L120.963119,135.527337 C122.002801,134.487948 122.002801,134.182246 122.002801,132.592593 L122.002801,73.0417402 L92.585901,147.755438 L88.6106443,147.755438 L54.3622782,73.0417402 L54.3622782,123.115814 C54.0767278,125.221069 54.7759199,127.3406 56.2581699,128.863022 L70.0186741,145.55438 L70.0186741,147.755438 L31,147.755438 L31,145.55438 L44.7605042,128.863022 C46.2319621,127.338076 46.8903838,125.204485 46.5340803,123.115814 L46.5340803,65.2157554 Z"/></svg></a>
        </div>  
        
        <a class="subscribe-button" href="https://codewithhugo.com/index.xml">Subscribe</a>
            
      </div>

    </nav>  

  </div>
</header>

<main id="site-main" class="site-main outer" role="main">
  <div class="inner">
    
      <article class="post-full post">
  <header class="post-full-header">
    <section class="post-full-meta">
      <time class="post-full-meta-date"
        datetime="2018-05-09">9 May 2018</time>
      <span class="date-divider">/</span> <a
        href="https://codewithhugo.com/tags/node/">#Node</a>&nbsp;<a
        href="https://codewithhugo.com/tags/javascript/">#JavaScript</a>&nbsp;
    </section>
    <h1 class="post-full-title">Using ES6 classes for Sequelize 4 models</h1>
  </header>
  <div class="hero-container">

    
    <figure class="post-full-image" style="background-image: url(https://codewithhugo.com/img/eugene-lim-unsplash.jpg)">
      
  <section class="hero-cta">
    <h3 class="cta-title">Get the Sequelize ES6 cheat sheet</h3>
    <p class="cta-text">A cheat sheet to level up your Sequelize productivity.<br/>If you've ever needed better Sequelize docs, this is it.<br/></p>
    <a href="https://checkoutpage.co/checkout/hugo/sequelize-cheatsheet" class="button">I want this</a>
  </section>


    </figure>
  </div>

  <section class="post-full-content">
    <div class="kg-card-markdown">
      <p>The ES2015 or ES6 specification introduced <code>class</code> to JavaScript.
Libraries like React went from <code>React.createClass</code> to <code>class MyComponent extends React.Component</code>,
ie went from rolling their own constructor to leveraging a language built-in to convey the programmer’s intent.</p>

<p>For a Node.js web application’s persistence layer,
a few databases come to mind like <a href="https://www.mongodb.com/">MongoDB</a>
(possibly paired with <a href="http://mongoosejs.com/">mongoose</a>),
or a key-value store like <a href="https://redis.io/">Redis</a>.</p>

<p>To run a relational database with a Node application, <a href="http://docs.sequelizejs.com/">Sequelize</a>,
“An easy-to-use multi SQL dialect ORM for Node.js” is a good option.
It allows the application to run backed by a MySQL or PostgreSQL instance and
provides an easy way to map from entities&rsquo; representation in the database to JavaScript and vice versa.</p>

<p>Sequelize’s API for model definitions looks like the following (from the docs <a href="http://docs.sequelizejs.com/manual/tutorial/upgrade-to-v4.html):">http://docs.sequelizejs.com/manual/tutorial/upgrade-to-v4.html):</a></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">MyModel</span> <span class="o">=</span> <span class="nx">sequelize</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&#34;MyModel&#34;</span><span class="p">,</span> <span class="p">{</span>
  <span class="c1">// fields and methods
</span><span class="c1"></span><span class="p">});</span>
</code></pre></div>
<p>To add class and instance methods you would write the following:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Class Method
</span><span class="c1"></span><span class="nx">MyModel</span><span class="p">.</span><span class="nx">associate</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">models</span><span class="p">)</span> <span class="p">{};</span>
<span class="c1">// Instance Method
</span><span class="c1"></span><span class="nx">MyModel</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">someMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{..}</span>
</code></pre></div>
<p>This is necessary pre-ES6 since there was no concept of classical inheritance. Since we have class now, why not leverage them? For developers who are used to having classes, the following would likely look familiar:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">class</span> <span class="nx">MyModel</span> <span class="k">extends</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">Model</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">associate</span><span class="p">(</span><span class="nx">models</span><span class="p">)</span> <span class="p">{}</span>
  <span class="nx">someMethod</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<p>Sequelize actually supports this, but the documentation is a bit lacking. One of the only place to find a reference to how to do this is in a GitHub issue: <a href="https://github.com/sequelize/sequelize/issues/6524">https://github.com/sequelize/sequelize/issues/6524</a>.</p>

<p>Here’s a cheat sheet for things you would want to do and how to achieve it using ES6 classe + inheriting from <code>Sequelize.Model</code>:</p>

<p></p>
    </div>
    <section class="table-of-contents">
      <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#typed-fields">Initialise the model with typed field(s)</a></li>
<li><a href="#associations">Associate your model to other models</a></li>
<li><a href="#customer-table-name">Setting a custom table name for your model</a></li>
<li><a href="#custom-model-name">Setting a custom model name for your model (for Sequelize)</a></li>
<li><a href="#queries">Wrap queries</a></li>
<li><a href="#instance-methods">Instance methods</a></li>
<li><a href="#initialise-all">Initialise all your models</a></li>
</ul></li>
</ul>
</nav>
    </section>
    
    <div class="related-links">
      <span>
        <div class="cf-wrapper">
          <div class="cf-header">Proudly sponsored by</div>
          <a href="https://checkoutpage.co/checkout/hugo/sequelize-cheatsheet" class="cf-text">
            <strong> Sequelize ES6 cheat sheet</strong><br />
            A cheat sheet to level up your Sequelize productivity. If you've ever needed better Sequelize docs, this is it. 
          </a>


          <a href="/" class="cf-powered-by">
            <em>useful</em> products by Code with Hugo
          </a>
        </div>
      </span>
    </div>
    
    <div class="kg-card-markdown">
      
      

<blockquote>
<p>This was sent out on the <a href="https://buttondown.email/hugo">Code with Hugo newsletter</a> last Monday.
<a href="https://buttondown.email/hugo">Subscribe</a> to get the latest posts right in your inbox (before anyone else).</p>
</blockquote>

<h2 id="typed-fields">Initialise the model with typed field(s)</h2>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;sequelize&#34;</span><span class="p">);</span>
<span class="k">class</span> <span class="nx">MyModel</span> <span class="k">extends</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">Model</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">init</span><span class="p">(</span><span class="nx">sequelize</span><span class="p">,</span> <span class="nx">DataTypes</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">super</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span>
      <span class="p">{</span>
        <span class="nx">myField</span><span class="o">:</span> <span class="nx">DataTypes</span><span class="p">.</span><span class="nx">STRING</span>
      <span class="p">},</span>
      <span class="p">{</span> <span class="nx">sequelize</span> <span class="p">}</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="associations">Associate your model to other models</h2>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;sequelize&#34;</span><span class="p">);</span>
<span class="k">class</span> <span class="nx">MyModel</span> <span class="k">extends</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">Model</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">associate</span><span class="p">(</span><span class="nx">models</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">myAssociation</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">belongsTo</span><span class="p">(</span><span class="nx">models</span><span class="p">.</span><span class="nx">OtherModel</span><span class="p">);</span>
    <span class="c1">// or
</span><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">myAssociation</span> <span class="o">=</span> <span class="nx">models</span><span class="p">.</span><span class="nx">MyModel</span><span class="p">.</span><span class="nx">belongsTo</span><span class="p">(</span><span class="nx">models</span><span class="p">.</span><span class="nx">OtherModel</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="customer-table-name">Setting a custom table name for your model</h2>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;sequelize&#34;</span><span class="p">);</span>
<span class="k">class</span> <span class="nx">MyModel</span> <span class="k">extends</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">Model</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">init</span><span class="p">(</span><span class="nx">sequelize</span><span class="p">,</span> <span class="nx">DataTypes</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">super</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span>
      <span class="p">{</span>
        <span class="c1">// field definitions
</span><span class="c1"></span>      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">tableName</span><span class="o">:</span> <span class="s2">&#34;myModels&#34;</span><span class="p">,</span>
        <span class="nx">sequelize</span>
      <span class="p">}</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="custom-model-name">Setting a custom model name for your model (for Sequelize)</h2>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;sequelize&#34;</span><span class="p">);</span>
<span class="k">class</span> <span class="nx">MyModel</span> <span class="k">extends</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">Model</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">init</span><span class="p">(</span><span class="nx">sequelize</span><span class="p">,</span> <span class="nx">DataTypes</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">super</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span>
      <span class="p">{</span>
        <span class="c1">// field definitions
</span><span class="c1"></span>      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">modelName</span><span class="o">:</span> <span class="s2">&#34;myModel&#34;</span><span class="p">,</span>
        <span class="nx">sequelize</span>
      <span class="p">}</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="queries">Wrap queries</h2>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;sequelize&#34;</span><span class="p">);</span>
<span class="k">class</span> <span class="nx">MyModel</span> <span class="k">extends</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">Model</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">getId</span><span class="p">(</span><span class="nx">where</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span>
      <span class="nx">where</span><span class="p">,</span>
      <span class="nx">attributes</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;id&#34;</span><span class="p">],</span>
      <span class="nx">order</span><span class="o">:</span> <span class="p">[[</span><span class="s2">&#34;createdAt&#34;</span><span class="p">,</span> <span class="s2">&#34;DESC&#34;</span><span class="p">]]</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="instance-methods">Instance methods</h2>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;sequelize&#34;</span><span class="p">);</span>
<span class="k">class</span> <span class="nx">MyModel</span> <span class="k">extends</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">Model</span> <span class="p">{</span>
  <span class="nx">getFullName</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="initialise-all">Initialise all your models</h2>

<p><code>require()</code> followed by <code>model.init()</code> is an alternative to <code>sequelize.import(path)</code>, it’s a bit clearer what is and isn’t imported and under what name.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;sequelize&#34;</span><span class="p">);</span>
<span class="k">const</span> <span class="nx">sequelize</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Sequelize</span><span class="p">();</span>
<span class="c1">// pass your sequelize config here
</span><span class="c1"></span>
<span class="k">const</span> <span class="nx">FirstModel</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;./first-model&#34;</span><span class="p">);</span>
<span class="k">const</span> <span class="nx">SecondModel</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;./second-model&#34;</span><span class="p">);</span>
<span class="k">const</span> <span class="nx">ThirdModel</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;./third-model&#34;</span><span class="p">);</span>

<span class="k">const</span> <span class="nx">models</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">First</span><span class="o">:</span> <span class="nx">FirstModel</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">sequelize</span><span class="p">,</span> <span class="nx">Sequelize</span><span class="p">),</span>
  <span class="nx">Second</span><span class="o">:</span> <span class="nx">SecondModel</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">sequelize</span><span class="p">,</span> <span class="nx">Sequelize</span><span class="p">),</span>
  <span class="nx">Third</span><span class="o">:</span> <span class="nx">ThirdModel</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">sequelize</span><span class="p">,</span> <span class="nx">Sequelize</span><span class="p">)</span>
<span class="p">};</span>

<span class="c1">// Run `.associate` if it exists,
</span><span class="c1">// ie create relationships in the ORM
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">models</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">model</span> <span class="p">=&gt;</span> <span class="k">typeof</span> <span class="nx">model</span><span class="p">.</span><span class="nx">associate</span> <span class="o">===</span> <span class="s2">&#34;function&#34;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">model</span> <span class="p">=&gt;</span> <span class="nx">model</span><span class="p">.</span><span class="nx">associate</span><span class="p">(</span><span class="nx">models</span><span class="p">));</span>

<span class="k">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">...</span><span class="nx">models</span><span class="p">,</span>
  <span class="nx">sequelize</span>
<span class="p">};</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">db</span><span class="p">;</span>
</code></pre></div>
<p>For any questions about using Sequelize in this manner or developing Node apps
backed by relational databases, feel free to comment below or tweet to me <a href="https://twitter.com/hugo__df">@hugo__df</a>.</p>

<blockquote>
<p>This was sent out on the <a href="https://buttondown.email/hugo">Code with Hugo newsletter</a> last Monday.
<a href="https://buttondown.email/hugo">Subscribe</a> to get the latest posts right in your inbox (before anyone else).</p>
</blockquote>

<p>Cover photo by <a href="https://unsplash.com/photos/sorCkbu4Nzw?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Eugene Lim</a> on <a href="https://unsplash.com/search/photos/square?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p>
    </div>
  </section>

  <section class="subscribe-form">
    <h3 class="subscribe-form-title">Subscribe to Code with Hugo</h3>
    <p>Get all the posts of the week before anyone else in your inbox</p>
    <form action="https://buttondown.email/api/emails/embed-subscribe/hugo" method="post" target="popupwindow"
      onsubmit="window.open('https://buttondown.email/hugo', 'popupwindow')">
      <div class="form-group">
        <input class="subscribe-email" type="email" name="email" id="bd-email" placeholder="youremail@example.com">
        <input type="hidden" value="1" name="embed" />
      </div>
      <button class="" value="Subscribe" type="submit"><span>Subscribe</span></button>
    </form>
  </section>

  <footer class="post-full-footer">
    <section class="author-card">
      <img class="author-profile-image" src="https://cdn-images-1.medium.com/fit/c/200/200/0*Rb-aDjpTtV1UZA4O.jpeg"
        alt="Author" />
      <section class="author-card-content">
        <h4 class="author-card-name"><a href="https://codewithhugo.com/">Hugo Di Francesco</a>
        </h4>
        <p>A developer, working out of London writing CSS, JavaScript and Python.</p>
      </section>
    </section>
  </footer>
</article>


  <section class="overlay-cta">
    <div class="overlay-cta__inner">
      <div class="overlay-cta__text-container">
        <h3 class="cta-title overlay-cta__title">
          Get the Sequelize ES6 cheat sheet
        </h3>
        <p class="cta-text overlay-cta__text">A cheat sheet to level up your Sequelize productivity.
If you&#39;ve ever needed better Sequelize docs, this is it.
</p>
      </div>
      <div class="overlay-cta__button-container">
        <a href="https://checkoutpage.co/checkout/hugo/sequelize-cheatsheet" class="button overlay-cta__button">
          
          I want this
          </a>
        <a href="#" class="overlay-cta__close">close</a>
      </div>
    </div>
  </section>




    
    
    

  </div>
</main>


<aside class="read-next outer">
  <div class="inner">
    <div class="read-next-feed">      
      
<article class="read-next-card" 
            style="background-image: url(https://codewithhugo.com/img/cover.jpg);" >
    <header class="read-next-card-header">
        <small class="read-next-card-header-sitetitle">&mdash; Code with Hugo &mdash;</small>
        
        <h3 class="read-next-card-header-title"><a href="https://codewithhugo.com/tags/node/">#Node</a></h3>
    </header>
    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
    </div>

    <div class="read-next-card-content">
      
        <ul>
          <li><a href="https://codewithhugo.com/connect-to-mongodb-on-dokku-with-your-local-command-line-or-robo3t/">Connect to MongoDB on Dokku with your local command line or Robo3T</a></li>            
        
          <li><a href="https://codewithhugo.com/async-js/">Async JavaScript: history, patterns and gotchas</a></li>            
        
          <li><a href="https://codewithhugo.com/javascript-graphql-client-requests-in-node-and-the-browser-using-graphql.js/">JavaScript GraphQL client requests in Node and the browser using `graphql.js`</a></li>            
        
          <li><a href="https://codewithhugo.com/observablehq-notebooks-for-javascript-demos-and-prototypes/">ObservableHQ notebooks for JavaScript demos and prototypes</a></li>            
        </ul>
    </div>
    <footer class="read-next-card-footer">
      
        <a href="https://codewithhugo.com/tags/node/">See all related posts →</a>
    </footer>
</article>


      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="https://codewithhugo.com/a-simple-real-world-vue.js-directive/">
      <div class="post-card-image" style="background-image: url(https://codewithhugo.com/img/frank-mckenna-unsplash.jpg)"></div>
    </a>
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="https://codewithhugo.com/a-simple-real-world-vue.js-directive/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #JavaScript 
              #VueJS 
              #web development  </span>
              
              <h2 class="post-card-title">A simple, real-world Vue.js directive</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>Vue.js is &ldquo;The Progressive JavaScript Framework&rdquo;. It takes inspiration from all prior art in the view library and frontend framework world, including AngularJS, React, Angular, Ember, Knockout and Polymer. In Vue (and Angular/AngularJS), a directive is a way to wrap functionality that usually applies to DOM elements. The example in Vue&rsquo;s documentation is a focus directive.
When running Vue.js inside of AngularJS, an issue occured whereby the AngularJS router would try to resolve normal anchors&rsquo; href on click. The hrefs weren&rsquo;t AngularJS URLs so it would fall back to the default page. One solution could have leveraged components to update window.location directly, but here&rsquo;s a nifty directive to do the same:
&lt;a v-href=&#34;&#39;/my-url&#39;&#34;&gt;Go&lt;/a&gt; That&rsquo;s a pretty cool API, and it&rsquo;s probably more idiomatic Vue than:
&lt;MyAnchor href=&#34;/my-url&#34;&gt; Go &lt;/MyAnchor&gt; There were a couple of gotchas:  ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="https://cdn-images-1.medium.com/fit/c/200/200/0*Rb-aDjpTtV1UZA4O.jpeg" alt="Author" />
          <span class="post-card-author"><a href="/">Hugo Di Francesco</a></span>
      </footer>
    </div>
</article>
      
      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="https://codewithhugo.com/writing-an-npm-module-with-typescript-and-microbundle/">
      <div class="post-card-image" style="background-image: url(https://codewithhugo.com/img/aaron-burden-unsplash.jpg)"></div>
    </a>
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="https://codewithhugo.com/writing-an-npm-module-with-typescript-and-microbundle/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #Node 
              #JavaScript 
              #TypeScript  </span>
              
              <h2 class="post-card-title">Writing an npm module with TypeScript and microbundle</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>For those looking to write a package and publish it to npm, TypeScript + microbundle is a low-friction way to build a high-quality library.

 ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="https://cdn-images-1.medium.com/fit/c/200/200/0*Rb-aDjpTtV1UZA4O.jpeg" alt="Author" />
          <span class="post-card-author"><a href="/">Hugo Di Francesco</a></span>
      </footer>
    </div>
</article>
      
    </div>
  </div>
</aside>

<div class="floating-header">
  <div class="floating-header-logo">
    <a href="https://codewithhugo.com/">
      
      <span>Code with Hugo</span>
    </a>
  </div>
  <span class="floating-header-divider">&mdash;</span>
  <div class="floating-header-title">Using ES6 classes for Sequelize 4 models</div>
  <div class="floating-header-share">
    <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
     <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/></svg>
    </div>

    
    <a class="floating-header-share-tw" href="https://twitter.com/share?text=%22Using%20ES6%20classes%20for%20Sequelize%204%20models%22%20by%20%40hugo__df&amp;url=https%3a%2f%2fcodewithhugo.com%2fusing-es6-classes-for-sequelize-4-models%2f&amp"
          onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
      </a>
      <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fcodewithhugo.com%2fusing-es6-classes-for-sequelize-4-models%2f"
          onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
      </a>
  </div>

  <progress class="progress" value="0">
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>
  </progress>
</div>



<footer class="site-footer outer">
  <div class="site-footer-content inner">
    <section class="copyright" style="line-height: 1.3em;">
      <a href="/">Code with Hugo</a>  <br>
      
    </section>
    <nav class="site-footer-nav">
        <a href="/">Latest Posts</a>
        
        <a href="https://twitter.com/hugo__df" target="_blank" rel="noopener">Twitter</a>
        <a href="https://github.com/HugoDF" target="_blank" rel="noopener">Github</a>
        
        <a href="https://medium.com/@hugo__df" target="_blank" rel="noopener">Medium</a>
    </nav>  
  </div>
</footer>

</div>

<script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="https://codewithhugo.com/js/jquery.fitvids.js"></script>




  <!-- Google Analytics -->
  <script>
    var _gaq=[['_setAccount','UA-60469708-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>




<script>
  (function (window) {
    function displayAmaAd() {
      document.querySelector('#codefund_ad').innerHTML = `<span>
        <div class="cf-wrapper">
          <div class="cf-header">Proudly sponsored by</div>
          <a href="https://checkoutpage.co/checkout/hugo/consulting-fee" class="cf-text">
            <strong>Ask Hugo anything</strong><br />
            Get in touch, I'm available for development, career or any other type of questions
          </a>


          <a href="/" class="cf-powered-by">
            <em>useful</em> products by Code with Hugo
          </a>
        </div>
      </span>`
    }

    window.addEventListener("codefund", function(evt) {
      if (evt.detail.status !== 'ok') {
        displayAmaAd();
      }
    });

  })(window);
</script>


<script async defer src="https://infra.codewithhugo.com/app.js"></script>
<noscript><img src="https://infra.codewithhugo.com/image.gif" alt=""></noscript>





<script>
  (function (document) {
    function getLastDocumentHeight(document) {
      var body = document.body;
      var html = document.documentElement;
      return Math.max(
        body.scrollHeight, body.offsetHeight,
        html.clientHeight, html.scrollHeight,
        html.offsetHeight
      );
    }

    var $overlay = document.querySelector('.overlay-cta');
    var hiddenClass = 'overlay-cta--hidden';
    var closedClass = 'overlay-cta--closed';
    $overlay.classList.add(hiddenClass);

    
    var $overlayClose = document.querySelector('.overlay-cta__close');
    var overlayCloseListener = $overlayClose.addEventListener('click', function (e) {
      e.preventDefault();
      $overlay.classList.add(closedClass);
    });

    var $heroCtaButton = document.querySelector('.hero-cta .button');
    var $firstContentItem = document.querySelector('.post-full-content > * > *');
    var title = $heroCtaButton || $firstContentItem;

    var $subscribeBox = document.querySelector('.subscribe-form');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = getLastDocumentHeight(document);
    var ticking = false;


    function onScroll() {
      lastScrollY = window.scrollY;
      requestTick();
    }

    function onResize() {
      lastWindowHeight = window.innerHeight;
      lastDocumentHeight = getLastDocumentHeight(document);
      requestTick();
    }

    function requestTick() {
      if (!ticking) {
        requestAnimationFrame(update);
      }
      ticking = true;
    }

    function update() {
      var trigger = title.getBoundingClientRect().top + window.scrollY;
      var triggerOffset = title.offsetHeight + 35;
      var lastShowCtaBoxHeight = $subscribeBox.getBoundingClientRect().top ;
      
      if (
        lastScrollY >= trigger + triggerOffset &&
        lastShowCtaBoxHeight > lastWindowHeight
      ) {
        $overlay.classList.remove(hiddenClass);
      } else {
        $overlay.classList.add(hiddenClass);
      }

      ticking = false;
    }

    window.addEventListener('scroll', onScroll, { passive: true });
    window.addEventListener('resize', onResize, false);

    update();
  })(document);
</script>


    <script>





$(document).ready(function () {
    
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>
</body></html>
