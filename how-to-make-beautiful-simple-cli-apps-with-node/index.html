<!DOCTYPE html>
<html lang="en-US" />
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="google-site-verification" content="gBfbdXRLofaOyHsbgiSiuCIHKPaviGMRVWh_qOfDHNE" />

    <title>How to make beautiful, simple CLI apps with Node &middot; Code with Hugo</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#090a0b">

    <link rel="shortcut icon" href="https://codewithhugo.com/favicon.ico" />
    <meta name="theme-color" content="#090a0b">
    
    <link rel="canonical" href="https://codewithhugo.com/how-to-make-beautiful-simple-cli-apps-with-node/" /> 

     <meta name="description" content="Channel your inner Sindre Sohrus and ship a beautifully simple CLI app using Node.
Command line apps are a neat way to package repetitive tasks. This will walk " /> 

     
    
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://codewithhugo.com/img/cli-screenshot.jpeg"/>
    
 
    <meta name="twitter:title" content="How to make beautiful, simple CLI apps with Node"/>
    <meta name="twitter:description" content="Channel your inner Sindre Sohrus and ship a beautifully simple CLI app using Node.
Command line apps are a neat way to package repetitive tasks. This will walk "/>
    <meta name="twitter:url" content="https://codewithhugo.com/how-to-make-beautiful-simple-cli-apps-with-node/" />
    <meta name="twitter:site" content="@hugo__df"/>

    <meta property="og:site_name" content="Code with Hugo" />
    <meta property="og:title" content="How to make beautiful, simple CLI apps with Node &middot; Code with Hugo" />
    <meta property="og:url" content="https://codewithhugo.com/how-to-make-beautiful-simple-cli-apps-with-node/" />
    

    <meta property="og:type" content="article" />
    <meta property="og:description" content="Channel your inner Sindre Sohrus and ship a beautifully simple CLI app using Node.
Command line apps are a neat way to package repetitive tasks. This will walk " />

    <meta property="article:published_time" content="2018-06-20T00:00:00Z" />
    <meta property="article:tag" content="JavaScript" /><meta property="article:tag" content="Node" /><meta property="article:tag" content="CLI" />

    <meta property="og:image" content="https://codewithhugo.com/img/cli-screenshot.jpeg"/>


    <meta name="generator" content="Hugo 0.46" />

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="https://codewithhugo.com/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://codewithhugo.com/css/casper-two.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" />
    
      
      <link rel="stylesheet" href="https://codewithhugo.com/overrides.min.bd35cf74c58c56c4aa8eff40730357744dec20ff31d8bae7b0618dbe30e0dbe4.css">
    
      
      <link rel="stylesheet" href="https://codewithhugo.com/syntax.min.e1646a3f88f77e1b5e7d0253633b1958013aa132890dfe4d7e15dc4718d4aecc.css">
    
      
      <link rel="stylesheet" href="https://codewithhugo.com/cta.min.612120dbcad38a206f6cc18996cd1f7d45141911bf04c86ab0c6132a55274b7b.css">
    

    

     
</head>


<body class="post-template">
  <div class="site-wrapper"> 

<header class="site-header outer">
  <div class="inner">
    <nav class="site-nav">
      <div class="site-nav-left">

        <ul class="nav" role="menu">
        
        
        
            <li class="" role="menuitem">
              <a href="/">Home</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/guides/">guides</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/javascript/">JavaScript</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/node/">Node</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/sequelize/">Sequelize</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/open/">#open</a>
            </li>
        
      </ul></div>

      <div class="site-nav-right">
        <div class="social-links">
                    

                    <a class="social-link social-link-tw" href="https://twitter.com/hugo__df" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg></a>

                    <a class="social-link" href="https://github.com/HugoDF" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>

                    

                    <a class="social-link" href="https://medium.com/@hugo__df" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 195 195"><path d="M46.5340803,65.2157554 C46.6968378,63.6076572 46.0836,62.018231 44.8828198,60.93592 L32.6512605,46.2010582 L32.6512605,44 L70.6302521,44 L99.9859944,108.380952 L125.794585,44 L162,44 L162,46.2010582 L151.542017,56.2281011 C150.640424,56.9153477 150.193188,58.0448862 150.380019,59.1628454 L150.380019,132.837155 C150.193188,133.955114 150.640424,135.084652 151.542017,135.771899 L161.755369,145.798942 L161.755369,148 L110.38282,148 L110.38282,145.798942 L120.963119,135.527337 C122.002801,134.487948 122.002801,134.182246 122.002801,132.592593 L122.002801,73.0417402 L92.585901,147.755438 L88.6106443,147.755438 L54.3622782,73.0417402 L54.3622782,123.115814 C54.0767278,125.221069 54.7759199,127.3406 56.2581699,128.863022 L70.0186741,145.55438 L70.0186741,147.755438 L31,147.755438 L31,145.55438 L44.7605042,128.863022 C46.2319621,127.338076 46.8903838,125.204485 46.5340803,123.115814 L46.5340803,65.2157554 Z"/></svg></a>
        </div>  
        
        <a class="subscribe-button" href="https://codewithhugo.com/index.xml">Subscribe</a>
            
      </div>

    </nav>  

  </div>
</header>

<main id="site-main" class="site-main outer" role="main">
  <div class="inner">
    
      
<div id="codefund_ad"></div>


<article class="post-full post">
    <header class="post-full-header">
        <section class="post-full-meta">
            <time class="post-full-meta-date" datetime="2018-06-20">20 June 2018</time>
                <span class="date-divider">/</span> <a href="https://codewithhugo.com/tags/javascript/">#JavaScript</a>&nbsp;<a href="https://codewithhugo.com/tags/node/">#Node</a>&nbsp;
        </section>
        <h1 class="post-full-title">How to make beautiful, simple CLI apps with Node</h1>
    </header>
    <div class="hero-container">

      
      <figure class="post-full-image" style="background-image: url(https://codewithhugo.com/img/cli-screenshot.jpeg)">
        

      </figure>
    </div>

    <section class="post-full-content">
        <div class="kg-card-markdown">
        

<p>Channel your inner Sindre Sohrus and ship a beautifully simple CLI app using Node.</p>

<p>Command line apps are a neat way to package repetitive tasks. This will walk you through some tools
that are useful to build CLI apps.</p>

<ul>
<li><a href="#the-idea">The idea üí°</a></li>
<li><a href="#piping-to-the-command-line">Piping to the command line üöá</a></li>
<li><a href="#dealing-with-sequential-actions">Dealing with sequential actions ‚ú®</a></li>
<li><a href="#executable-javascript-files">Executable JavaScript files ü¶Ö</a></li>
<li><a href="#adding-package-binaries">Adding package binaries üì¶</a></li>
<li><a href="#publishing-to-npm">Publishing to npm üöÄ</a></li>
</ul>

<h2 id="the-idea">The idea üí°</h2>

<p>When merging/rebasing, the file that always seems to cause trouble is the package-lock.
We&rsquo;ll go through how to make a simple utility that deletes the package-lock.json file, regenerates it (npm install) and adds it to the git index.</p>

<p>You can find it here: <a href="https://github.com/HugoDF/fix-package-lock">https://github.com/HugoDF/fix-package-lock</a> and run it using <code>npx fix-package-lock</code>.</p>

<h2 id="piping-to-the-command-line">Piping to the command line üöá</h2>

<p>To start off, we&rsquo;ll leverage a package from Sindre Sohrus, <code>execa</code>, which is described as ‚Äúa better <code>child_process</code>&rdquo;. For the following snippet to work, run <code>npm install --save execa</code>:</p>

<p><code>index.js</code></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">execa</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;execa&#39;</span><span class="p">);</span>

<span class="nx">execa</span><span class="p">(</span><span class="s1">&#39;ls&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">stdout</span><span class="p">));</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">node index.js
index.js
node_modules
package-lock.json
package.json </code></pre></div>
<h2 id="dealing-with-sequential-actions">Dealing with sequential actions ‚ú®</h2>

<p>To re-generate the <code>package-lock</code> we&rsquo;ll need to first delete it, then run an <code>npm install</code>.</p>

<p>To this end, we can use <a href="https://github.com/SamVerschueren/listr">Listr</a>, it allows us to do things that look like:</p>

<p><img src="https://raw.githubusercontent.com/HugoDF/fix-package-lock/master/fix-package-lock.gif"></p>

<p>Run <code>npm install --save listr</code> and add leverage Listr as follows:</p>

<p><code>index.js</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">execa</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;execa&#39;</span><span class="p">);</span>
<span class="k">const</span> <span class="nx">Listr</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;listr&#39;</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">Listr</span><span class="p">([</span>
  <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Removing package-lock&#39;</span><span class="p">,</span>
    <span class="nx">task</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">execa</span><span class="p">(</span><span class="s1">&#39;rm&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;package-lock.json&#39;</span><span class="p">])</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Running npm install&#39;</span><span class="p">,</span>
    <span class="nx">task</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">execa</span><span class="p">(</span><span class="s1">&#39;npm&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;install&#39;</span><span class="p">])</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Adding package-lock to git&#39;</span><span class="p">,</span>
    <span class="nx">task</span><span class="o">:</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">task</span><span class="p">)</span> <span class="p">=&gt;</span>
        <span class="nx">execa</span><span class="p">(</span><span class="s1">&#39;git&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="s1">&#39;package-lock.json&#39;</span><span class="p">])</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">task</span><span class="p">.</span><span class="nx">skip</span><span class="p">())</span>
  <span class="p">}</span>
<span class="p">]).</span><span class="nx">run</span><span class="p">();</span>
</code></pre></div>
<p>Now the output of <code>node index.js</code> looks like the following:
<img src="/img/20180619-running-screenshot.jpeg" alt="`node index.js` output" /></p>

<p><a href="https://github.com/SamVerschueren/listr">Listr</a> gives you a loading state when you have a
long-running task that returns a Promise (like the <code>execa</code> invocation of <code>npm install</code>).</p>

<p>It&rsquo;s also possible to display a message that changes using Observables, for more information see <a href="https://github.com/SamVerschueren/listr">the Listr docs</a></p>

<h2 id="executable-javascript-files">Executable JavaScript files ü¶Ö</h2>

<p>It&rsquo;s ideal to be able to execute our script using <code>./index.js</code> instead of <code>node index.js</code>.</p>

<p>To do this, we need the file to be executable on UNIX systems that&rsquo;s: <code>chmod +x</code>. So</p>

<pre><code>chmod +x index.js
</code></pre>

<p>We then need to inform the system how it should attempt to run the file, that&rsquo;s using the following hashbang:</p>

<pre><code>#!/usr/bin/env node
</code></pre>

<p>If we add it to <code>index.js</code> we get:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="ch">#!/usr/bin/env node
</span><span class="ch"></span><span class="k">const</span> <span class="nx">execa</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;execa&#39;</span><span class="p">);</span>
<span class="k">const</span> <span class="nx">Listr</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;listr&#39;</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">Listr</span><span class="p">([</span>
  <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Removing package-lock&#39;</span><span class="p">,</span>
    <span class="nx">task</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">execa</span><span class="p">(</span><span class="s1">&#39;rm&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;package-lock.json&#39;</span><span class="p">])</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Running npm install&#39;</span><span class="p">,</span>
    <span class="nx">task</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">execa</span><span class="p">(</span><span class="s1">&#39;npm&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;install&#39;</span><span class="p">])</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Adding package-lock to git&#39;</span><span class="p">,</span>
    <span class="nx">task</span><span class="o">:</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">task</span><span class="p">)</span> <span class="p">=&gt;</span>
        <span class="nx">execa</span><span class="p">(</span><span class="s1">&#39;git&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="s1">&#39;package-lock.json&#39;</span><span class="p">])</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">task</span><span class="p">.</span><span class="nx">skip</span><span class="p">())</span>
  <span class="p">}</span>
<span class="p">]).</span><span class="nx">run</span><span class="p">();</span>
</code></pre></div>
<p>Which we can now run using:</p>

<pre><code>./index.js
</code></pre>

<h2 id="adding-package-binaries">Adding package binaries</h2>

<p>npm has a <code>bin</code> field which we can use like the following (in <code>package.json</code>):</p>

<pre><code>{
  &quot;name&quot;: &quot;beautiful-cli&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;A simple CLI&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;bin&quot;: {
    &quot;fix-package-json&quot;: &quot;./index.js&quot;
  }
  &quot;dependencies&quot;: {
    &quot;execa&quot;: &quot;^0.10.0&quot;,
    &quot;listr&quot;: &quot;^0.14.1&quot;
  }
}
</code></pre>

<h2 id="publishing-to-npm">Publishing to npm üöÄ</h2>

<p>This is left to the reader as an exercise, although using the <a href="https://github.com/sindresorhus/np">np</a>
package, it&rsquo;s super straightforward.</p>

<p>Hint: run <code>npx np</code> in whatever package you&rsquo;re trying to publish</p>

<p>You can find the full package at You can find it here: <a href="https://github.com/HugoDF/fix-package-lock">https://github.com/HugoDF/fix-package-lock</a> and run it using <code>npx fix-package-lock</code>.</p>

        </div>
    </section>

    <section class="subscribe-form">
        <h3 class="subscribe-form-title">Subscribe to Code with Hugo</h3>
        <p>Get all the posts of the week before anyone else in your inbox</p>
        <form
            action="https://buttondown.email/api/emails/embed-subscribe/hugo"
            method="post"
            target="popupwindow"
            onsubmit="window.open('https://buttondown.email/hugo', 'popupwindow')"
        >
            <div class="form-group">
                <input class="subscribe-email" type="email" name="email" id="bd-email" placeholder="youremail@example.com">
                <input type="hidden" value="1" name="embed"/>
            </div>
            <button class="" value="Subscribe" type="submit"><span>Subscribe</span></button>
        </form>
    </section>

    <footer class="post-full-footer">
      <section class="author-card">
        <img class="author-profile-image" src="https://cdn-images-1.medium.com/fit/c/200/200/0*Rb-aDjpTtV1UZA4O.jpeg" alt="Author" />
        <section class="author-card-content">
            <h4 class="author-card-name"><a href="https://codewithhugo.com/">Hugo Di Francesco</a></h4>
                <p>A developer, working out of London writing CSS, JavaScript and Python.</p>
        </section>
      </section>
    </footer>
</article>


  <section class="overlay-cta">
    <div class="overlay-cta__inner">
      <div class="overlay-cta__text-container">
        <h3 class="cta-title overlay-cta__title">
          Subscribe to the Code with Hugo newsletter
        </h3>
        <p class="cta-text overlay-cta__text">
          Get the latest articles in your inbox every 2 weeks
        </p>
      </div>
      <div class="overlay-cta__button-container">
        <a href="https://buttondown.email/hugo" class="button overlay-cta__button">
          Subscribe
        </a>
        <a href="#" class="overlay-cta__close">close</a>
      </div>
    </div>
  </section>



    
    
    

  </div>
</main>


<aside class="read-next outer">
  <div class="inner">
    <div class="read-next-feed">      
      
<article class="read-next-card" 
            style="background-image: url(https://codewithhugo.com/img/cover.jpg);" >
    <header class="read-next-card-header">
        <small class="read-next-card-header-sitetitle">&mdash; Code with Hugo &mdash;</small>
        
        <h3 class="read-next-card-header-title"><a href="https://codewithhugo.com/tags/javascript/">#JavaScript</a></h3>
    </header>
    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
    </div>

    <div class="read-next-card-content">
      
        <ul>
          <li><a href="https://codewithhugo.com/why-you-should-wrap-your-javascript-dependencies/">Why you should wrap your (JavaScript) dependencies</a></li>            
        
          <li><a href="https://codewithhugo.com/simple-but-not-too-simple-how-using-zeits-micro-improves-your-node-applications/">Simple, but not too simple: how using Zeit‚Äôs `micro` improves your Node applications</a></li>            
        
          <li><a href="https://codewithhugo.com/6-months-of-code-with-hugo-in-numbers/">6 months of Code with Hugo, in numbers</a></li>            
        
          <li><a href="https://codewithhugo.com/in-simple-terms-code-on-the-backend-frontend-and-how-they-interact/">In simple terms: code on the backend, frontend and how they interact</a></li>            
        </ul>
    </div>
    <footer class="read-next-card-footer">
      
        <a href="https://codewithhugo.com/tags/javascript/">See all related posts ‚Üí</a>
    </footer>
</article>


      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="https://codewithhugo.com/testing-an-express-app-with-supertest-moxios-and-jest/">
      <div class="post-card-image" style="background-image: url(https://codewithhugo.com/img/bekir-donmez-unsplash.jpg)"></div>
    </a>
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="https://codewithhugo.com/testing-an-express-app-with-supertest-moxios-and-jest/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #JavaScript 
              #Node 
              #Testing  </span>
              
              <h2 class="post-card-title">Testing an Express app with SuperTest, moxios and Jest</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>Testing is a crucial part of the software development process. It helps to catch bugs, avoid regressions and to document the behaviour of a piece of software.
Express is one of the most widespread libraries for building backend applications in JavaScript. What follows is a summary of how to set up an efficient unit testing strategy for such an application as well as a couple of situations you may be faced with when attempting to test. ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="https://cdn-images-1.medium.com/fit/c/200/200/0*Rb-aDjpTtV1UZA4O.jpeg" alt="Author" />
          <span class="post-card-author"><a href="/">Hugo Di Francesco</a></span>
      </footer>
    </div>
</article>
      
      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="https://codewithhugo.com/setting-up-express-and-redis-with-docker-compose/">
      <div class="post-card-image" style="background-image: url(https://codewithhugo.com/img/ben-koorengevel-unsplash.jpg)"></div>
    </a>
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="https://codewithhugo.com/setting-up-express-and-redis-with-docker-compose/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #JavaScript 
              #Node 
              #Docker 
              #redis  </span>
              
              <h2 class="post-card-title">A Docker/docker-compose setup with Redis and Node/Express</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>Redis and Express are tools that provide a simple and clean approach to their problem domains. What follows is a Docker/Docker Compose v2 setup.
The repo is available at: https://github.com/HugoDF/express-redis-docker.
The docker-compose.yml is available at: github.com/HugoDF/express-redis-docker/docker-compose.yml
Redis is ‚Äúan open source, in-memory data structure store, used as a database, cache and message broker‚Äù. It‚Äôs as simple and unopinionated as a database as it gets, it‚Äôs known for its performance and simplicity as a key-value store. ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="https://cdn-images-1.medium.com/fit/c/200/200/0*Rb-aDjpTtV1UZA4O.jpeg" alt="Author" />
          <span class="post-card-author"><a href="/">Hugo Di Francesco</a></span>
      </footer>
    </div>
</article>
      
    </div>
  </div>
</aside>

<div class="floating-header">
  <div class="floating-header-logo">
    <a href="https://codewithhugo.com/">
      
      <span>Code with Hugo</span>
    </a>
  </div>
  <span class="floating-header-divider">&mdash;</span>
  <div class="floating-header-title">How to make beautiful, simple CLI apps with Node</div>
  <div class="floating-header-share">
    <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
     <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/></svg>
    </div>

    
    <a class="floating-header-share-tw" href="https://twitter.com/share?text=%22How%20to%20make%20beautiful%2c%20simple%20CLI%20apps%20with%20Node%22%20by%20%40hugo__df&amp;url=https%3a%2f%2fcodewithhugo.com%2fhow-to-make-beautiful-simple-cli-apps-with-node%2f&amp"
          onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
      </a>
      <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fcodewithhugo.com%2fhow-to-make-beautiful-simple-cli-apps-with-node%2f"
          onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
      </a>
  </div>

  <progress class="progress" value="0">
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>
  </progress>
</div>



<footer class="site-footer outer">
  <div class="site-footer-content inner">
    <section class="copyright" style="line-height: 1.3em;">
      <a href="/">Code with Hugo</a>  <br>
      
    </section>
    <nav class="site-footer-nav">
        <a href="/">Latest Posts</a>
        
        <a href="https://twitter.com/hugo__df" target="_blank" rel="noopener">Twitter</a>
        <a href="https://github.com/HugoDF" target="_blank" rel="noopener">Github</a>
        
        <a href="https://medium.com/@hugo__df" target="_blank" rel="noopener">Medium</a>
    </nav>  
  </div>
</footer>

</div>

<script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="https://codewithhugo.com/js/jquery.fitvids.js"></script>




  <!-- Google Analytics -->
  <script>
    var _gaq=[['_setAccount','UA-60469708-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>



<script async src="//cdn.simpleanalytics.io/hello.js"></script>
<noscript><img src="//api.simpleanalytics.io/hello.gif" alt=""></noscript>





<script>
  (function (document) {
    function getLastDocumentHeight(document) {
      var body = document.body;
      var html = document.documentElement;
      return Math.max(
        body.scrollHeight, body.offsetHeight,
        html.clientHeight, html.scrollHeight,
        html.offsetHeight
      );
    }

    var $overlay = document.querySelector('.overlay-cta');
    var hiddenClass = 'overlay-cta--hidden';
    var closedClass = 'overlay-cta--closed';
    $overlay.classList.add(hiddenClass);

    
    var $overlayClose = document.querySelector('.overlay-cta__close');
    var overlayCloseListener = $overlayClose.addEventListener('click', function (e) {
      e.preventDefault();
      $overlay.classList.add(closedClass);
    });

    var $heroCtaButton = document.querySelector('.hero-cta .button');
    var $firstContentItem = document.querySelector('.post-full-content > * > *');
    var title = $heroCtaButton || $firstContentItem;

    var $subscribeBox = document.querySelector('.subscribe-form');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = getLastDocumentHeight(document);
    var ticking = false;


    function onScroll() {
      lastScrollY = window.scrollY;
      requestTick();
    }

    function onResize() {
      lastWindowHeight = window.innerHeight;
      lastDocumentHeight = getLastDocumentHeight(document);
      requestTick();
    }

    function requestTick() {
      if (!ticking) {
        requestAnimationFrame(update);
      }
      ticking = true;
    }

    function update() {
      var trigger = title.getBoundingClientRect().top + window.scrollY;
      var triggerOffset = title.offsetHeight + 35;
      var lastShowCtaBoxHeight = $subscribeBox.getBoundingClientRect().top ;
      
      if (
        lastScrollY >= trigger + triggerOffset &&
        lastShowCtaBoxHeight > lastWindowHeight
      ) {
        $overlay.classList.remove(hiddenClass);
      } else {
        $overlay.classList.add(hiddenClass);
      }

      ticking = false;
    }

    window.addEventListener('scroll', onScroll, { passive: true });
    window.addEventListener('resize', onResize, false);

    update();
  })(document);
</script>


    <script>





$(document).ready(function () {
    
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>
</body></html>
